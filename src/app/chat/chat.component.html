<div class="chat-container">
  <div class="chat-settings">
    <div class="setting-group">
      <label for="model-select">ModÃ¨le IA:</label>
      <select id="model-select" [(ngModel)]="selectedModel" class="select-input">
        <option *ngFor="let model of models" [value]="model.value">{{ model.label }}</option>
      </select>
    </div>
  </div>

  <div class="chat-messages" #chatMessages>
    <div 
      *ngFor="let message of messages" 
      [class]="'message ' + (message.isUser ? 'user-message' : 'assistant-message')"
    >
      <div class="message-avatar">
        <span *ngIf="message.isUser">ğŸ‘¤</span>
        <span *ngIf="!message.isUser">ğŸ¤–</span>
      </div>
      <div class="message-content">
        <p>{{ message.content }}</p>
        <span class="message-time">{{ message.timestamp | date:'HH:mm' }}</span>
      </div>
    </div>
    <div *ngIf="isLoading" class="message assistant-message">
      <div class="message-avatar">ğŸ¤–</div>
      <div class="message-content">
        <div class="typing-indicator">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>
    </div>
  </div>

  <div class="chat-input-container">
    <textarea
      [(ngModel)]="userMessage"
      (keydown)="onKeyPress($event)"
      placeholder="Tapez votre message ici... (EntrÃ©e pour envoyer)"
      class="chat-input"
      rows="1"
      [disabled]="isLoading"
    ></textarea>
    <button 
      (click)="sendMessage()" 
      [disabled]="!userMessage.trim() || isLoading"
      class="send-button"
    >
      <span *ngIf="!isLoading">ğŸ“¤ Envoyer</span>
      <span *ngIf="isLoading">â³ Envoi...</span>
    </button>
  </div>
</div>

